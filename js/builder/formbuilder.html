<html>
    <head>
        <link type="text/css" rel="stylesheet" href="/DesktopModules/OpenContent/js/bootstrap/css/bootstrap.min.css" />
        <link type="text/css" href="/DesktopModules/OpenContent/js/alpaca-1.5.8/alpaca/bootstrap/alpaca.min.css" rel="stylesheet" />
        <link type="text/css" href="formbuilder.css" rel="stylesheet" />
        <script type="text/javascript" src="/Resources/libraries/jquery/01_09_01/jquery.js"></script>
        <script type="text/javascript" src="/DesktopModules/OpenContent/js/bootstrap/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="/DesktopModules/OpenContent/js/alpaca-1.5.8/lib/handlebars/handlebars.min.js"></script>
        <script type="text/javascript" src="/DesktopModules/OpenContent/js/alpaca-1.5.8/alpaca/bootstrap/alpaca.js"></script>
            
        <script type="text/javascript" src="formbuilder.js"></script>
    </head>
    <body>
    	<div class="container">
        	<div class="row">
        		<div class="col-md-6">
     
            		<div id="form"></div>
            	</div>
            	<div class="col-md-6">
            			<div id="form2"></div>
           		</div>
            </div>
            <div class="row">
            	<div class="col-md-6">
            	    schema<br/>
            		<textarea class="form-control" rows="10" id="schema"></textarea>
                </div>
                <div class="col-md-6">
                    options<br/>
            		<textarea class="form-control" rows="10" id="options"></textarea>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    Builder<br />
                    <textarea class="form-control" rows="10" id="builder"></textarea>
                </div>
            </div>
        </div>
        <button id="load">Load</button>

        <br />
        <script type="text/javascript">
            $(document).ready(function() {
            	var alpacadata = {};
                
                //var cook = $.cookie('alpacadata');
            	var cook = $('#builder').val();
            	if (typeof(cook) != "undefined" && cook){
            		alpacadata = JSON.parse(cook);
            		formbuilderConfig.data = alpacadata;	
				                        
				    showForm(alpacadata);
            	}
            	
                $("#form").alpaca(
                	formbuilderConfig
                	);

                $("#load").click(function () {
                    var alpacadata = Load();
                    //$("#form").alpaca("get").setValue({ "formfields": alpacadata });
                    
                    var exists = $("#form").alpaca("exists");
                    if (exists) {
                        $("#form").alpaca("destroy");
                    }
                    formbuilderConfig.data = { "formfields": alpacadata };
                    $("#form").alpaca(formbuilderConfig);
                    
                });

                
            });
        </script>
    </body>
</html>